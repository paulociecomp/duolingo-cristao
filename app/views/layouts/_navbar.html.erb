<nav class="bg-white border-b border-gray-200 fixed w-full top-0 z-50">
  <div class="px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <div class="flex-shrink-0 flex items-center">
          <span class="text-2xl">ğŸ“–</span>
          <span class="ml-2 text-xl font-bold text-indigo-600 hidden sm:block">Duolingo Crente</span>
        </div>
      </div>

      <div class="flex items-center gap-4">
        <!-- XP -->
        <div class="flex items-center gap-1 text-amber-500">
          <span class="text-lg">â­</span>
          <span class="font-semibold"><%= number_with_delimiter(current_user.total_xp) %></span>
        </div>

        <!-- Streak -->
        <div class="flex items-center gap-1 text-orange-500">
          <span class="text-lg">ğŸ”¥</span>
          <span class="font-semibold"><%= current_user.current_streak %></span>
        </div>

        <!-- Lives -->
        <div class="flex items-center gap-1 text-red-500" data-controller="lives" data-lives-count-value="<%= current_user.lives %>">
          <span class="text-lg">â¤ï¸</span>
          <span class="font-semibold" data-lives-target="count"><%= current_user.lives %></span>
        </div>

        <!-- Gems -->
        <div class="flex items-center gap-1 text-cyan-500 hidden sm:flex">
          <span class="text-lg">ğŸ’</span>
          <span class="font-semibold"><%= current_user.gems %></span>
        </div>

        <!-- Profile -->
        <div class="relative" data-controller="dropdown">
          <button type="button" class="flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition" data-action="click->dropdown#toggle">
            <% if current_user.avatar_url.present? %>
              <img src="<%= current_user.avatar_url %>" alt="<%= current_user.name %>" class="w-8 h-8 rounded-full">
            <% else %>
              <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center">
                <span class="text-indigo-600 font-semibold text-sm"><%= current_user.name[0].upcase %></span>
              </div>
            <% end %>
          </button>

          <div class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1" data-dropdown-target="menu">
            <%= link_to profile_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" do %>
              <span class="mr-2">ğŸ‘¤</span> Meu Perfil
            <% end %>
            <%= link_to achievements_path, class: "block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" do %>
              <span class="mr-2">ğŸ†</span> Conquistas
            <% end %>
            <hr class="my-1">
            <%= link_to logout_path, class: "block px-4 py-2 text-sm text-red-600 hover:bg-gray-100" do %>
              <span class="mr-2">ğŸšª</span> Sair
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="h-16"></div>
