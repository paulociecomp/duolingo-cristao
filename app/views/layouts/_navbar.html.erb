<nav class="bg-[#1A2C32] border-b border-[#37464F] fixed w-full top-0 z-50">
  <div class="px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <div class="flex-shrink-0 flex items-center">
          <span class="text-2xl">ğŸ“–</span>
          <span class="ml-2 text-xl font-bold text-[#58CC02] hidden sm:block">Duolingo Crente</span>
        </div>
      </div>

      <div class="flex items-center gap-4">
        <!-- XP -->
        <div class="flex items-center gap-1 text-[#FFC800]">
          <span class="text-lg">â­</span>
          <span class="font-semibold"><%= number_with_delimiter(current_user.total_xp) %></span>
        </div>

        <!-- Streak -->
        <div class="flex items-center gap-1 text-[#FF9600]">
          <span class="text-lg">ğŸ”¥</span>
          <span class="font-semibold"><%= current_user.current_streak %></span>
        </div>

        <!-- Lives -->
        <div class="flex items-center gap-1 text-[#FF4B4B]" data-controller="lives" data-lives-count-value="<%= current_user.lives %>">
          <span class="text-lg">â¤ï¸</span>
          <span class="font-semibold" data-lives-target="count"><%= current_user.lives %></span>
        </div>

        <!-- Gems -->
        <div class="flex items-center gap-1 text-[#1CB0F6] hidden sm:flex">
          <span class="text-lg">ğŸ’</span>
          <span class="font-semibold"><%= current_user.gems %></span>
        </div>

        <!-- Profile -->
        <div class="relative" data-controller="dropdown">
          <button type="button" class="flex items-center gap-2 p-1 rounded-full hover:bg-[#232F36] transition" data-action="click->dropdown#toggle">
            <% if current_user.avatar_url.present? %>
              <img src="<%= current_user.avatar_url %>" alt="<%= current_user.name %>" class="w-8 h-8 rounded-full">
            <% else %>
              <div class="w-8 h-8 rounded-full bg-[#37464F] flex items-center justify-center">
                <span class="text-[#58CC02] font-semibold text-sm"><%= current_user.name[0].upcase %></span>
              </div>
            <% end %>
          </button>

          <div class="hidden absolute right-0 mt-2 w-48 bg-[#1A2C32] rounded-lg shadow-lg border border-[#37464F] py-1" data-dropdown-target="menu">
            <%= link_to profile_path, class: "block px-4 py-2 text-sm text-gray-200 hover:bg-[#232F36]" do %>
              <span class="mr-2">ğŸ‘¤</span> Meu Perfil
            <% end %>
            <%= link_to achievements_path, class: "block px-4 py-2 text-sm text-gray-200 hover:bg-[#232F36]" do %>
              <span class="mr-2">ğŸ†</span> Conquistas
            <% end %>
            <hr class="my-1 border-[#37464F]">
            <%= link_to logout_path, class: "block px-4 py-2 text-sm text-[#FF4B4B] hover:bg-[#232F36]" do %>
              <span class="mr-2">ğŸšª</span> Sair
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>
<div class="h-16"></div>
