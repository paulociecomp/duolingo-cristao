<div class="max-w-2xl mx-auto">
  <!-- League Header -->
  <div class="bg-[#1A2C32] rounded-2xl shadow-sm border border-[#37464F] p-6 mb-6 text-center">
    <div class="text-5xl mb-2"><%= @current_league&.icon || "üèÖ" %></div>
    <h1 class="text-2xl font-bold text-white mb-1"><%= @current_league&.name || "Liga Bronze" %></h1>
    <p class="text-gray-400">Temporada semanal</p>

    <% if @current_rank %>
      <div class="mt-4 inline-flex items-center gap-2 bg-[#1CB0F6]/20 px-4 py-2 rounded-full">
        <span class="text-[#1CB0F6] font-semibold">Sua posi√ß√£o: #<%= @current_rank %></span>
      </div>
    <% end %>
  </div>

  <!-- Your Stats -->
  <% if @current_participation %>
    <div class="bg-gradient-to-r from-[#58CC02] to-[#1CB0F6] rounded-xl p-4 mb-6 text-white">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <% if current_user.avatar_url.present? %>
            <img src="<%= current_user.avatar_url %>" class="w-10 h-10 rounded-full border-2 border-white">
          <% else %>
            <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center font-bold">
              <%= current_user.name[0] %>
            </div>
          <% end %>
          <div>
            <div class="font-semibold"><%= current_user.name %></div>
            <div class="text-sm opacity-80">#<%= @current_rank %></div>
          </div>
        </div>
        <div class="text-right">
          <div class="text-2xl font-bold"><%= @current_participation.xp_earned %></div>
          <div class="text-sm opacity-80">XP esta semana</div>
        </div>
      </div>
    </div>
  <% end %>

  <!-- Leaderboard -->
  <div class="bg-[#1A2C32] rounded-2xl shadow-sm border border-[#37464F] overflow-hidden">
    <div class="p-4 border-b border-[#37464F]">
      <h2 class="font-bold text-white">Ranking da Semana</h2>
    </div>

    <div class="divide-y divide-[#37464F]">
      <% @participants.each_with_index do |participant, index| %>
        <% is_current = participant.user_id == current_user.id %>
        <div class="flex items-center gap-4 p-4 <%= is_current ? 'bg-[#1CB0F6]/10' : '' %>">
          <div class="w-8 text-center">
            <% if index < 3 %>
              <span class="text-2xl"><%= ["ü•á", "ü•à", "ü•â"][index] %></span>
            <% else %>
              <span class="font-bold text-gray-400"><%= index + 1 %></span>
            <% end %>
          </div>

          <div class="flex-1 flex items-center gap-3">
            <% if participant.user.avatar_url.present? %>
              <img src="<%= participant.user.avatar_url %>" class="w-10 h-10 rounded-full">
            <% else %>
              <div class="w-10 h-10 rounded-full bg-[#232F36] flex items-center justify-center font-bold text-gray-400">
                <%= participant.user.name[0] %>
              </div>
            <% end %>
            <div>
              <div class="font-medium <%= is_current ? 'text-[#1CB0F6]' : 'text-white' %>">
                <%= participant.user.name %>
                <%= "(Voc√™)" if is_current %>
              </div>
              <div class="text-sm text-gray-400">N√≠vel <%= participant.user.current_level %></div>
            </div>
          </div>

          <div class="text-right">
            <div class="font-bold text-white"><%= participant.xp_earned %></div>
            <div class="text-xs text-gray-400">XP</div>
          </div>
        </div>
      <% end %>

      <% if @participants.empty? %>
        <div class="p-8 text-center">
          <div class="text-4xl mb-2">üèÖ</div>
          <p class="text-gray-400">Nenhum participante ainda esta semana.</p>
          <p class="text-sm text-gray-500 mt-1">Complete li√ß√µes para aparecer no ranking!</p>
        </div>
      <% end %>
    </div>
  </div>

  <div class="mt-4 text-center text-sm text-gray-400">
    <p>Top 10 s√£o promovidos. Bottom 10 s√£o rebaixados.</p>
    <p>Reset toda segunda-feira.</p>
  </div>
</div>
