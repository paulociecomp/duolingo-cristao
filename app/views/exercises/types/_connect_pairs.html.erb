<div data-controller="connect-pairs" data-connect-pairs-lesson-id-value="<%= exercise.lesson_id %>" data-connect-pairs-exercise-id-value="<%= exercise.id %>">
  <div class="mb-6 text-center">
    <h2 class="text-xl font-bold text-white mb-2">Conecte os pares</h2>
    <p class="text-gray-400 text-sm">Toque em um item da esquerda e depois no correspondente da direita</p>
  </div>

  <div class="max-w-lg mx-auto">
    <div class="grid grid-cols-2 gap-3">
      <!-- Left Column -->
      <div class="space-y-2" data-connect-pairs-target="leftColumn">
        <% exercise.content["left"].each_with_index do |item, index| %>
          <button type="button"
                  class="w-full text-left p-3 bg-[#1A2C32] border-2 border-[#37464F] rounded-xl text-white hover:border-[#4A5D66] transition-all duration-200 text-sm cursor-pointer"
                  data-action="click->connect-pairs#selectLeft"
                  data-connect-pairs-target="leftItem"
                  data-index="<%= index %>"
                  data-value="<%= item %>">
            <%= item %>
          </button>
        <% end %>
      </div>

      <!-- Right Column -->
      <div class="space-y-2" data-connect-pairs-target="rightColumn">
        <% exercise.content["right"].shuffle.each_with_index do |item, index| %>
          <button type="button"
                  class="w-full text-left p-3 bg-[#1A2C32] border-2 border-[#37464F] rounded-xl text-white hover:border-[#4A5D66] transition-all duration-200 text-sm cursor-pointer"
                  data-action="click->connect-pairs#selectRight"
                  data-connect-pairs-target="rightItem"
                  data-index="<%= index %>"
                  data-value="<%= item %>">
            <%= item %>
          </button>
        <% end %>
      </div>
    </div>

    <div class="mt-4 text-center text-sm text-gray-400" data-connect-pairs-target="status">
      <span data-connect-pairs-target="matchCount">0</span>/<%= exercise.content["left"].size %> pares conectados
    </div>
  </div>

  <input type="hidden" name="answer" data-connect-pairs-target="answer" data-exercise-target="answer">
</div>
