<div data-controller="sequence-story" data-sequence-story-lesson-id-value="<%= exercise.lesson_id %>" data-sequence-story-exercise-id-value="<%= exercise.id %>">
  <div class="mb-6">
    <h2 class="text-xl font-bold text-white mb-2">Ordene os eventos</h2>
    <p class="text-gray-400 text-sm">Coloque os acontecimentos na ordem cronolÃ³gica correta</p>

    <% if exercise.content["context"].present? %>
      <div class="mt-3 inline-block bg-[#1A2C32] text-[#FFC800] px-3 py-1 rounded-full text-sm font-medium">
        <%= exercise.content["context"] %>
      </div>
    <% end %>
  </div>

  <!-- Drop Zone -->
  <div class="min-h-24 bg-[#1A2C32] rounded-2xl p-4 mb-6 border-2 border-dashed border-[#37464F]"
       data-sequence-story-target="dropZone">
    <div class="space-y-2" data-sequence-story-target="sequence">
      <!-- Sequenced items will appear here -->
    </div>
    <p class="text-gray-500 text-sm text-center py-4" data-sequence-story-target="placeholder">
      Toque nos eventos abaixo para ordenÃ¡-los
    </p>
  </div>

  <!-- Events Bank -->
  <div class="space-y-2" data-sequence-story-target="eventsBank">
    <% exercise.content["events"].shuffle.each_with_index do |event, index| %>
      <button type="button"
              class="w-full text-left p-4 bg-[#1A2C32] border-2 border-[#37464F] rounded-xl text-white hover:border-[#4A5D66] transition-all duration-200"
              data-action="click->sequence-story#selectEvent"
              data-sequence-story-target="event"
              data-event="<%= event %>">
        <div class="flex items-center gap-3">
          <span class="text-lg">ðŸ“Œ</span>
          <span><%= event %></span>
        </div>
      </button>
    <% end %>
  </div>

  <input type="hidden" name="answer" data-sequence-story-target="answer" data-exercise-target="answer">
</div>
